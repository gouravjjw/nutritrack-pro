<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>NutriTrack Pro</title>

  <!-- iOS PWA hooks -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="NutriTrack Pro">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <link rel="manifest" href="manifest.json">

  <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="app">

  <!-- DASHBOARD -->
  <section id="dashboard" class="screen active">
    <header class="greeting">
      <h2>Hello!</h2>
      <p id="today-date"></p>
    </header>

    <div class="ring-wrap">
      <canvas id="kcalRing" width="170" height="170"></canvas>
      <div id="kcalLabel" class="ring-label"></div>
    </div>

    <h3>Macros (g)</h3>
    <div id="protBar" class="bar"></div>
    <div id="carbBar" class="bar"></div>
    <div id="fatBar"  class="bar"></div>
    <div id="fibBar"  class="bar"></div>
  </section>

  <!-- FOOD LOG -->
  <section id="food-log" class="screen">
    <h2>Food Log (Today)</h2>
    <ul id="diaryUL" class="diary"></ul>
    <button id="open-add" class="fab">+</button>
  </section>

  <!-- PROFILE -->
  <section id="profile" class="screen">
    <h2>My Profile</h2>
    <input id="p-name"   placeholder="Name">
    <select id="p-gender"><option value="male">Male</option><option value="female">Female</option></select>
    <input id="p-age"    type="number" placeholder="Age (y)">
    <input id="p-weight" type="number" placeholder="Weight (kg)">
    <input id="p-height" type="number" placeholder="Height (cm)">

    <h3>Goal</h3>
    <select id="p-goal-type">
      <option value="maintain">Maintain</option>
      <option value="loss">Lose weight</option>
      <option value="gain">Gain muscle</option>
    </select>

    <div id="p-goal-extra" class="hidden">
      <input id="p-delta" type="number" placeholder="Kgs to change">
      <input id="p-weeks" type="number" placeholder="Weeks">
    </div>

    <button id="p-save" class="btn">Save & Calculate</button>
    <p id="p-msg" class="hint"></p>
  </section>

  <!-- ADD FOOD MODAL -->
  <div id="addModal" class="modal hidden">
    <div class="modal-box">
      <span id="addClose" class="close">√ó</span>
      <h3>Add Food</h3>
      <input id="food-name" placeholder="Food name (rice, egg‚Ä¶)">
      <input id="serv-qty" type="number" value="100">
      <select id="serv-unit">
        <option>g</option><option>ml</option><option>cup</option>
        <option>tbsp</option><option>pcs</option>
      </select>
      <select id="meal-sel">
        <option>breakfast</option><option>lunch</option>
        <option>dinner</option><option>snack</option>
      </select>
      <button id="saveFood" class="btn">Save</button>
    </div>
  </div>

  <!-- FOOD DETAIL MODAL -->
  <div id="foodModal" class="modal hidden">
    <div class="modal-box wide">
      <span id="foodClose" class="close">√ó</span>
      <h3 id="fTitle"></h3>
      <p id="fServ"></p>
      <h4>Macros</h4><ul id="fMacros"></ul>
      <h4>Micros</h4><ul id="fMicros" class="scroll"></ul>
    </div>
  </div>

</div><!--/app-->

<footer>
  <nav>
    <button data-target="dashboard">üè†</button>
    <button data-target="food-log">üìí</button>
    <button data-target="profile">üë§</button>
  </nav>
</footer>

<script src="app.js"></script>
<script>
  if ('serviceWorker' in navigator) navigator.serviceWorker.register('sw.js');
  document.getElementById('today-date').textContent =
    new Date().toLocaleDateString(undefined,{weekday:'short',month:'short',day:'numeric'});
</script>
</body>
</html>
