<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NutriTrack Pro</title>

  <!-- iOS PWA hooks -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="NutriTrack Pro" />
  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />

  <link rel="stylesheet" href="style.css" />
</head>

<body>
<div class="app-container">

  <!-- ============ DASHBOARD ============ -->
  <div id="dashboard" class="screen active">
    <header class="greeting">
      <h2>Hello!</h2><p id="today-date"></p>
    </header>

    <section id="rings">
      <canvas id="kcalRing" width="170" height="170"></canvas>
      <div class="ring-label" id="kcalLabel"></div>
    </section>

    <section id="macro-bars">
      <h3>Macros (g)</h3>
      <div class="bar" id="protBar"></div>
      <div class="bar" id="carbBar"></div>
      <div class="bar" id="fatBar"></div>
      <div class="bar" id="fibBar"></div>
    </section>
  </div>

  <!-- ============ FOOD LOG ============ -->
  <div id="food-log" class="screen">
    <h2>Food Log (Today)</h2>
    <ul id="diaryUL" class="diary-list"></ul>
    <button id="open-add" class="fab">Ôºã</button>
  </div>

  <!-- ============ ADD FOOD MODAL ============ -->
  <div id="add-modal" class="modal hidden">
   <div class="modal-content">
    <span id="add-close" class="close">√ó</span>
    <h3 id="add-title">Add Food</h3>
    <input id="food-name" placeholder="Food name (search or custom)" />
    <input id="serv-qty" type="number" value="100" /> 
    <select id="serv-unit">
      <option value="g">g</option><option value="ml">ml</option>
      <option value="cup">cup</option><option value="tbsp">tbsp</option>
      <option value="pcs">pcs</option>
    </select>

    <select id="meal-sel">
      <option value="breakfast">Breakfast</option>
      <option value="lunch">Lunch</option>
      <option value="dinner">Dinner</option>
      <option value="snack">Snack</option>
    </select>

    <button id="save-food" class="primary-btn">Save Food</button>
   </div>
  </div>

  <!-- ============ FOOD DETAIL ============ -->
  <div id="food-modal" class="modal hidden">
   <div class="modal-content wide">
    <span id="modal-close" class="close">√ó</span>
    <h3 id="modal-title"></h3>
    <p id="modal-serv"></p>
    <h4>Macronutrients</h4>
    <ul id="modal-macros"></ul>
    <h4>Micronutrients</h4>
    <ul id="modal-micros" class="scroll-box"></ul>
   </div>
  </div>

  <!-- ============ PROFILE ============ -->
  <div id="profile" class="screen">
   <h2>My Profile</h2>
   <input id="p-name" placeholder="Name" />
   <select id="p-gender">
     <option value="male">Male</option><option value="female">Female</option>
   </select>
   <input id="p-age" type="number" placeholder="Age (y)" />
   <input id="p-weight" type="number" placeholder="Weight (kg)" />
   <input id="p-height" type="number" placeholder="Height (cm)" />

   <h3>Goal</h3>
   <select id="p-goal-type">
     <option value="maintain">Maintain</option>
     <option value="loss">Lose weight</option>
     <option value="gain">Gain muscle</option>
   </select>

   <div id="p-goal-extra" class="hidden">
     <input id="p-delta" type="number" placeholder="Kgs to change" />
     <input id="p-weeks" type="number" placeholder="Weeks" />
   </div>

   <button id="p-save" class="primary-btn">Save & Calculate</button>
   <p id="p-msg" class="hint"></p>
  </div>

</div> <!-- /app-container -->

<footer>
 <nav>
  <button data-target="dashboard">üè†</button>
  <button data-target="food-log">üìí</button>
  <button data-target="profile">üë§</button>
 </nav>
</footer>

<script src="app.js"></script>
<!-- service-worker registration -->
<script>
 if ('serviceWorker' in navigator){
   navigator.serviceWorker.register('/sw.js');
 }
 document.getElementById('today-date').textContent =
   new Date().toLocaleDateString(undefined,{weekday:'short',month:'short',day:'numeric'});
</script>
</body>
</html>
